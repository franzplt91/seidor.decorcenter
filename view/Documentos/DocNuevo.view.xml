<mvc:View height="100%" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"
    controllerName="pe.com.seidor.sap.decor.ventas.controller.Documentos.DocNuevo" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form"
    xmlns:t="sap.ui.table" xmlns:s="sap.m.semantic" xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    displayBlock="true">


<Dialog title="Clase Documento" id="dlg_DocNuevo" stretchOnPhone="true" contentWidth="20%" contentHeight="70%">
        <content>
            <Page>
                <customHeader>
                    <Toolbar>
                        <Label text="Referencia:"></Label>
                        <Input width="75%"></Input>
                    </Toolbar>
                </customHeader>
                <content>


                    <List mode="SingleSelectMaster" growing="true" growingThreshold="30" growingDirection="Upwards" busyIndicatorDelay="200"
                        enableBusyIndicator="false" growingTriggerText="Previous Products" noDataText="No products available" itemPress="onListMasterProductos"  items="{
                                        path : '/dataIni/lstTipoDoc',
                                        sorter : {
                                            path : 'Codigo',
                                            group: false
                                        }
                                    }">
                        <items>
                            <StandardListItem selected="true" title="{Descripcion}" type="Active" custom:to=""/>
                        </items>
                    </List>
                </content>
            </Page>
        </content>
        <beginButton>
            <Button text="OK" type="Accept" icon="sap-icon://accept" press="onCloseDialog"/>
        </beginButton>
        <endButton>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="goHome"/>
        </endButton>
    </Dialog>


    

    <Dialog title="Lista Buscar Profesional" id="dlg_DocNuevointerlocutoresBuscarProfesional" contentWidth="20%" contentHeight="70%">
        <content>
            <List mode="SingleSelectMaster" growing="true" growingThreshold="10" growingDirection="Upwards" busyIndicatorDelay="200"
                            enableBusyIndicator="true" growingTriggerText="Previous Products" noDataText="No products available" itemPress="onDocNuevoListMasterProductos">
                            <items>
                                <StandardListItem selected="true" title="{/clienteSeleccionado/codigo}" description="{/clienteSeleccionado/nombrecliente}" info="161.20 " type="Active"
                                    custom:to="pag_cliente_buscado"/>
                            </items>
                        </List>
        </content>

    </Dialog>


    <Dialog title="Buscar Cliente" id="dlg_DocNuevobuscarCliente" contentWidth="20%" contentHeight="25%">
         


                <content>


                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="5"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="RUC / DNI">
                                            <f:fields>
                                                <Input value="" id="txt_ruc_cliente_busqueda"/>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Razón Social">
                                            <f:fields>
                                                <Input value="" id="txt_nombre_cliente_busqueda" />
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>

                   
                </content>
            
        <beginButton>
            <Button text="Buscar" type="Accion" press="onDocNuevoBuscarClienteAccion" icon="sap-icon://search" />
        </beginButton>
        <endButton>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoCloseBuscarCliente"/>
        </endButton>
    </Dialog>


    

    <Dialog title="Seleccionar Cliente" id="dlg_DocNuevobuscarCliente_resultado" contentWidth="auto" contentHeight="auto">
                <content>
                    <List selectionChange="SeleccionaCliente" mode="SingleSelectMaster" growing="true" growingThreshold="30" growingDirection="Upwards" busyIndicatorDelay="200"
                        enableBusyIndicator="false" growingTriggerText="Previous Products" noDataText="No hay clientes" itemPress=""  items="{
                                        path : '/BusquedaClientes',
                                        sorter : {
                                            path : 'nombrecliente',
                                            group: false
                                        }
                                    }">
                        <items>
                            <StandardListItem selected="true" title="{codigo} {nombrecliente}" type="Active" custom:to=""/>
                        </items>
                    </List>
                </content>
        <endButton>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoCloseSeleccionarCliente"/>
        </endButton>

    </Dialog>


    




    <Dialog title="Stock Disponible" id="dlg_DocNuevobuscar" stretchOnPhone="true" contentWidth="30%" contentHeight="65%">
        <content>
            <Panel>
                <content>

                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="4"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="4"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Código">
                                            <f:fields>
                                                <Input placeholder="Ingresar Código" id="txt_codigo_material_busqueda">
                                                    <layoutData>
                                                        <l:GridData span="L8 M8 S8"/>
                                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Código Antiguo">
                                            <f:fields>
                                                <Input placeholder="Ingresar Código Antiguo" id="txt_codigoAntiguo_material_busqueda">
                                                    <layoutData>
                                                        <l:GridData span="L8 M8 S8"/>
                                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Descripción">
                                            <f:fields>
                                                <Input placeholder="Ingresar Descripción" id="txt_descripcionMaterial_material_busqueda">
                                                    <layoutData>
                                                        <l:GridData span="L8 M8 S8"/>
                                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Categoría">
                                            <f:fields>
                                                <Select id="comboCategoria" items="{ path : '/dataIni/lstCategoria' }" change="onSeleccionarCategoria"  required="true">
                                                    <core:Item key="{Codigo}" text="{Descripcion}" />
                                                    <layoutData>
                                                        <l:GridData span="L8 M8 S8"/>
                                                    </layoutData>
                                                    </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Línea">
                                            <f:fields>
                                                <Select id="comboLinea" items="{ path : '/listaLinea' }" change="onSeleccionarLinea"  required="true">
                                                <core:Item key="{Codigo}" text="{Descripcion}"/>
                                                <layoutData>
                                                        <l:GridData span="L8 M8 S8"/>
                                                    </layoutData>
                                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Marca">
                                            <f:fields>
                                                <Select id="comboMarca" items="{ path : '/listaMarca' }" change="" required="true">
                                                <core:Item key="{Codigo}" text="{Descripcion}"/>
                                                <layoutData>
                                                        <l:GridData span="L8 M8 S8"/>
                                                    </layoutData>
                                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>
                </content>
            </Panel>
        </content>
         <buttons>
            <Button text="Selec. Carac." type="Accion"  press="onSeleccionarCaracteristicas" />
            <Button text="Buscar" type="Accion" icon="sap-icon://search" press="onDocNuevoBuscarMateriales" />
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoClosedlg_buscar" />
        </buttons>
    </Dialog>






<Dialog title="Stock Disponible" id="dlg_BuscarMateriales" contentWidth="20%" contentHeight="70%" stretch="true">
        <content>
            <List selectionChange="" mode="SingleSelectMaster" growing="false" growingThreshold="30" growingDirection="Upwards" busyIndicatorDelay="200"
                        enableBusyIndicator="false" growingTriggerText="Previous Products" noDataText="No hay clientes" 
                        itemPress="SeleccionarMaterial"  

                        items="{
                        path : '/BusquedaMateriales',
                                sorter : {
                                    path : 'DescMaterial',
                                    group : false
                                }
                        }">
                        <items>


                            <ObjectListItem
                title="{DescMaterial}"
                number="Peso: {Peso}"
                numberUnit="Precio: {PrecioUnit} Stock: {Stock}{CodUMedida}"
                numberState=""
                type="Navigation"
                press=""
                custom:to="">
                <firstStatus>
                    <ObjectStatus text="Descontinuado: {Descontinuado}"/>
                </firstStatus>
            </ObjectListItem>


                        </items>
                    </List>
        </content>
         <buttons>
            <Button text="Catálogo"></Button>
            <Button text="Buscar Stock"></Button>
            <Button text="Añadir" type="Accept" icon="sap-icon://sys-cancel" press="onDocNuevoAnadirMaterial"></Button>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoCloseSeleccionarMaterial"/>
        </buttons>

    </Dialog>


    <Dialog title="Ingresar la Cantidad" id="dlg_DocNuevoaddProductoonDialog" stretchOnPhone="true" contentWidth="20%" contentHeight="65%">
        <content>
            <Panel>
                <content>


                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="5"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Cantidad">
                                            <f:fields>
                                                <Input value="1"></Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Ambiente">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstPreguntas/5/listaResp' }" required="true">
                                    <core:Item key="{Codigo}" text="{Descripcion}"/>
                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Opción">
                                            <f:fields>
                                                <Select  required="true">
                                                <core:Item key="01" text="01"/>
                                                <core:Item key="02" text="02"/>
                                                <core:Item key="03" text="03"/>
                                                <core:Item key="04" text="04"/>
                                                <core:Item key="05" text="05"/>
                                                <core:Item key="06" text="06"/>
                                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>
                </content>
            </Panel>
        </content>
        <beginButton>
            <Button text="Añadir" type="Accept" icon="sap-icon://add" press="onDocNuevoMasterProductosAddonDialog"></Button>
        </beginButton>
        <endButton>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoClosedlg_addProductoonDialog"/>
        </endButton>
    </Dialog>


<Dialog title="Aviso" id="dlg_MensajeAviso1" stretchOnPhone="true" contentWidth="2%" contentHeight="9%">
        <content>
            <Text text="Material Añadido. Desea seguir añadiendo materiales?"></Text>
        </content>
        <beginButton>
            <Button text="Si" type="Accept" press="onSiMensajeAviso1"></Button>
        </beginButton>
        <endButton>
            <Button text="No" type="Reject" press="onNoMensajeAviso1"></Button>
        </endButton>
    </Dialog>





    <Dialog title="Material" id="dlg_DocNuevoaddProducto" stretchOnPhone="true" contentWidth="20%" contentHeight="65%">
        <content>
            <Panel>
                <content>


                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="5"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Código">
                                            <f:fields>
                                                <Input placeholder="Ingrese Código de Material"></Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Cantidad">
                                            <f:fields>
                                                <Input value="1"></Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Ambiente">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstPreguntas/5/listaResp' }" required="true">
                                    <core:Item key="{Codigo}" text="{Descripcion}"/>
                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Opción Ambiente">
                                            <f:fields>
                                                <Select  required="true">
                                                <core:Item key="01" text="01"/>
                                                <core:Item key="02" text="02"/>
                                                <core:Item key="03" text="03"/>
                                                <core:Item key="04" text="04"/>
                                                <core:Item key="05" text="05"/>
                                                <core:Item key="06" text="06"/>
                                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>
                </content>
            </Panel>
        </content>
        <beginButton>
            <Button text="Añadir" type="Accept" icon="sap-icon://add" press="onDocNuevoMasterProductosAdd"></Button>
        </beginButton>
        <endButton>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoClosedlg_addProducto"/>
        </endButton>
    </Dialog>
    <Dialog title="Editar Lista de Reparto" id="dlg_DocNuevoeditListaReparto" stretchOnPhone="true" contentWidth="20%" contentHeight="60%">
        <content>
            <Panel>
                <content>



                    <f:Form editable="true">
                           <!-- <f:title>
                                <core:Title text="Address" />
                            </f:title> -->
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="5"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Fecha Entrega">
                                            <f:fields>
                                                <DatePicker id="FechaListReparto" valueFormat="YYYY-MM-dd" displayFormat="short"
                                                    value="{parts: [{path: 'date>/'}, {path: 'formatdate>/short'}, {path: 'formatdate>/equal'}], formatter: '.formatter.date'}">
                                                    <layoutData>
                                                        <l:GridData span="L4 M4 S6"/>
                                                    </layoutData>
                                                </DatePicker>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Cantidad">
                                            <f:fields>
                                                <Input value="1"></Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Cantidad Confirmada">
                                            <f:fields>
                                                <Input value="1"></Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Tipo">
                                            <f:fields>
                                                <Input value="1"></Input>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>

                    
                </content>
            </Panel>
        </content>
        <beginButton>
            <Button text="Guardar" type="Accept" icon="sap-icon://save" press=""></Button>
        </beginButton>
        <endButton>
            <Button text="Cancel" type="Reject" icon="sap-icon://sys-cancel" press="onDocNuevoClosedlg_editListaReparto"/>
        </endButton>
    </Dialog>





<!--Caracteristicas-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Caracteristicas.DocCaracteristicaCategoria" type="XML"></core:Fragment>


    <SplitContainer id="SplitAppId" initialMaster="MasterDocNuevoDatos" initialDetail="pagDocNuevo_datos_detail1" orientationChange="onOrientationChange" mode="PopoverMode">
        <masterPages>
            <!--Master Datos-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Master.DocMasterDatosFragment" type="XML"></core:Fragment>

            <!--Master Buscar Cliente-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Master.DocMasterDatosBuscarClienteFragment" type="XML"></core:Fragment>

            <!--Master Producto-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Master.DocMasterProductosFragment" type="XML"></core:Fragment>

            <!--Master Producto Buscar-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Master.DocMasterProductoBuscarFragment" type="XML"></core:Fragment>


            <!--Master Productos Agregar-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Master.DocMasterProductoAgregarFragment" type="XML"></core:Fragment>

            
        </masterPages>
        <detailPages>

             <!--Detail Cliente-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocClienteFragment" type="XML"></core:Fragment>

            <!--Detalle Cliente Buscado-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocDatosClienteBuscadoFragment" type="XML"></core:Fragment>

            <!--Detail Interlocutores-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocInterlocutoresFragment" type="XML"></core:Fragment>

            <!--Detail Observaciones-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocObservacionesFragment" type="XML"></core:Fragment>

            <!--Detail Producto Detalle-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocProductoDetalleFragment" type="XML"></core:Fragment>

            <!--Detail Producto Agregado-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocProductoAgregadoFragment" type="XML"></core:Fragment>

            <!--Detail Producto Buscado-->
            <core:Fragment fragmentName="pe.com.seidor.sap.decor.ventas.view.Documentos.Frag.Detail.DocProductoBuscadoFragment" type="XML"></core:Fragment>

            
            
        </detailPages>
    </SplitContainer>

</mvc:View>