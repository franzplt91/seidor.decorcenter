<core:FragmentDefinition 
    xmlns:core="sap.ui.core" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m"
     xmlns:l="sap.ui.layout" 
     xmlns:f="sap.ui.layout.form"
    xmlns:t="sap.ui.table" 
    xmlns:s="sap.m.semantic" 
    xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    
    <s:DetailPage title="Detalle Producto" id="pagDocNuevo_productos_lista1">
    
        

        <s:content>


            <ObjectHeader id="" backgroundDesign="Solid" intro="{/CentroClaseModel/Werks}" title="{/dataIni/person/E_NAME1}"
                number="{/MaterialModel/material/descripcion_cantidad}" numberUnit="{/MaterialModel/material/Meins}">  
                <attributes>
                    <ObjectAttribute title="Código" text="{/dataIni/person/ClienteEvent}"/>
                </attributes>
            </ObjectHeader>
            

            <IconTabBar expandable="false" stretchContentHeight="true" headerMode="Inline" upperCase="false" expanded="{device&gt;/isNoPhone}" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter text="Detalle Material 1">

                        <f:Form editable="true">
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="12"
                                    labelSpanL="12"
                                    labelSpanM="12"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="4"
                                    columnsL="4"
                                    columnsM="4"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Posición">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/Posicion}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>

                                <f:FormContainer>
                                    <f:FormElement label="Código">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/CodMaterialCorto}">
                                                    <layoutData>
                                                        <l:GridData span="L12 M12 S12"/>
                                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>


                        <f:Form editable="true">
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="12"
                                    labelSpanL="12"
                                    labelSpanM="12"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="3"
                                    columnsM="3"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                         <f:FormElement label="Descripción">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/DescMaterial}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Cantidad">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/Cantidad}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>

                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Unidad de Medida">
                                            <f:fields>
                                                <Input width="100%" id="txt_unidadMedida_detalleMaterial1" value="{/listaTotalMateriales/CodUMedida}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Unidad de Rendimiento">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/Rendimiento}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>

                                <f:FormContainer>
                                    <f:formElements>
                                            <f:FormElement label="Centro/Almacen/Lote">
                                            <f:fields>
                                                <Input width="100%" id="txt_centro_almacen_lote" value="">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Flete">
                                            <f:fields>
                                                <CheckBox selected="true">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </CheckBox>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>


                    </IconTabFilter>

                    <IconTabFilter text="Detalle Material 2">

                        <f:Form editable="true">
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="12"
                                    labelSpanL="12"
                                    labelSpanM="12"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="4"
                                    columnsL="4"
                                    columnsM="4"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Peso">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/Peso}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                </f:FormContainer>
                                
                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Peso Total">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/PesoNeto}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        
                                    </f:formElements>
                                    
                                </f:FormContainer>

                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Precio Unitario">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/PrecioUnitario}" >
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        
                                    </f:formElements>
                                    
                                </f:FormContainer>


                                <f:FormContainer>
                                    <f:formElements>
                                            <f:FormElement label="Descuentos">
                                            <f:fields>
                                                <Input width="100%" value="{/listaTotalMateriales/lskkl}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                    </f:formElements>
                                    
                                </f:FormContainer>

                            </f:formContainers>
                        </f:Form>



                        <f:Form editable="true">
                            <f:layout>
                                <f:ResponsiveGridLayout
                                    labelSpanXL="12"
                                    labelSpanL="12"
                                    labelSpanM="12"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="3"
                                    columnsM="3"
                                    singleContainerFullSize="false" />
                            </f:layout>
                            <f:formContainers>
                                <f:FormContainer>
                                    <f:formElements>

                        
                                        <f:FormElement label="Sub Total">
                                            <f:fields>
                                                <Input width="100%" placeholder="" value="{/listaTotalMateriales/SubTotal}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Input>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Repartos">
                                            <f:fields>
                                                <DatePicker valueFormat="YYYY-MM-dd" displayFormat="short"
                                                    value="{/listaTotalMateriales/Reparto}">
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </DatePicker>
                                            </f:fields>
                                        </f:FormElement>
                                        
                                        

                                    </f:formElements>
                                </f:FormContainer>

                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Ambiente">
                                            <f:fields>
                                                <Select items="{ path : '/dataIni/lstPreguntas/5/listaResp' }" maxwidth="100%" required="true" selectedKey="{/listaTotalMateriales/CodGrupoMat}">
                                                        <core:Item key="{Codigo}" text="{= ${Codigo} === ' '? 'Seleccione' : ${Descripcion} }"/>
                                                        <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Opción Ambiente">
                                            <f:fields>
                                                <Select maxwidth="100%" required="true" selectedKey="{/listaTotalMateriales/Opcion}">
                                                    <core:Item key="01" text="01"/>
                                                    <core:Item key="02" text="02"/>
                                                    <core:Item key="03" text="03"/>
                                                    <core:Item key="04" text="04"/>
                                                    <core:Item key="05" text="05"/>
                                                    <core:Item key="06" text="06"/>
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        
                                    </f:formElements>

                                </f:FormContainer>

                                <f:FormContainer>
                                    <f:formElements>
                                        <f:FormElement label="Motivo de Rechazo">
                                            <f:fields>
                                                <Select  items="{ path : '/dataIni/lstMotivosRechazo' }" change="onSeleccionaSurtido" maxwidth="100%" required="true">
                                                    <core:Item key="{Codigo}" text="{= ${Codigo} === ' '? 'Seleccione' : ${Descripcion} }"/>
                                                    <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                                </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        <f:FormElement label="Prioridad">
                                            <f:fields>
                                                <Select  items="{ path : '/dataIni/lstCondExp' }" change="onSeleccionaSurtido" maxwidth="100%" required="true" selectedKey="{/listaTotalMateriales/PrioridadEntrega}">
                                                <core:Item key="{Codigo}" text="{= ${Codigo} === ''? 'Seleccione' : ${Descripcion} }"/>
                                                <layoutData>
                                        <l:GridData span="L12 M12 S12"/>
                                    </layoutData>
                                            </Select>
                                            </f:fields>
                                        </f:FormElement>
                                        
                                    </f:formElements>

                                </f:FormContainer>
                            </f:formContainers>
                        </f:Form>
                    </IconTabFilter>

                    <IconTabFilter text="Descuento">
                       
                    </IconTabFilter>

                    <IconTabFilter text="Centro/Almacen/Lote">
                        <List  id="lista_centro_almacen_lote" mode="SingleSelectMaster" growing="false" growingThreshold="30" growingDirection="Upwards" busyIndicatorDelay="200"
                              enableBusyIndicator="false" growingTriggerText="Previous Products" noDataText="No hay Centro/Almacen/Lote" 
                              itemPress="onSeleccionarCentroAlmacenLote"  
                              items="{
                        path : '/RetornoStockDetallado/lstLoteTotal',
                                sorter : {
                                    path : 'DescCentro',
                                    group : true
                                }
                        }"
                >
                    <items>


                        <ObjectListItem
                            title="{CodCentro} {DescCentro} / {DescAlmacen} / {CodLote}"
                            number="Stock: {StockDisponible}"
                            type="Navigation"
                            press=""
                            custom:to="">
                                
                        </ObjectListItem>


                    </items>
                </List>
                    </IconTabFilter>


                    <IconTabFilter text="Reparto">
                        <List  mode="SingleSelectMaster" growing="false" growingThreshold="30" growingDirection="Upwards" busyIndicatorDelay="200"
                              enableBusyIndicator="false" growingTriggerText="Previous Products" noDataText="No hay Productos" 
                              itemPress=""  
                              items="{
                        path : '/listaMatAnadido',
                                sorter : {
                                    path : 'DescMaterial',
                                    group : false
                                }
                        }"
                >
                    <items>


                        <ObjectListItem
                            title="{CodMaterial}"
                            number="Peso: {Peso}"
                            numberUnit="Precio: {PrecioUnit} Stock: {Stock}{CodUMedida}"
                            numberState=""
                            type="Navigation"
                            press=""
                            custom:to="">
                            <firstStatus>
                                <ObjectStatus text="Descontinuado: {Descontinuado}"/>
                            </firstStatus>
                        </ObjectListItem>


                    </items>
                </List>
                    </IconTabFilter>


                    <IconTabFilter text="Catálogo">

                    </IconTabFilter>
                </items>
            </IconTabBar>
        </s:content>
        
                <s:customFooterContent>
                    <!--Text class="txt_Total_Dscto" text="Tot.Doc.: S/. {} (c/IGV) | Tot.Dcto. : S/. {}" ></Text-->
                    <Text class="txt_Total_Dscto" text="Total: S/. " ></Text>
                    <Text class="monto_Total_Dscto" text="{/RetornoRecalcular/objPedido/Total}"></Text>
                    <Text class="txt_Total_Dscto" text="Dscto.: S/. "></Text>
                    <Text class="monto_Total_Dscto" text="{/RetornoRecalcular/objPedido/TotalDcto}"></Text>
                    <ToolbarSpacer />
                    <Button icon="sap-icon://refresh" tooltip="" text="" press="onBtnRecalcular"></Button>
                </s:customFooterContent>
                


    </s:DetailPage>

</core:FragmentDefinition>